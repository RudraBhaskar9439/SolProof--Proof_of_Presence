(()=>{var e={};e.id=636,e.ids=[636],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6129:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(60687),a=s(43210),n=s(76740),i=s(89532),l=s(71702);function d({profile:e,onEdit:t,onProfileUpdated:s}){let[n,d]=(0,a.useState)(!1),[o,c]=(0,a.useState)(e.display_name||""),[x,u]=(0,a.useState)(e.bio||""),[m,p]=(0,a.useState)(!1),{toast:h}=(0,l.dj)(),f=async()=>{p(!0);try{await i._F.update({displayName:o,bio:x}),h({title:"Success",description:"Profile updated successfully"}),d(!1),s()}catch(e){h({title:"Error",description:e.response?.data?.error||"Failed to update profile",variant:"destructive"})}finally{p(!1)}},g=e.reputation_score||0,b=e.attendances?.length||0;return(0,r.jsxs)("div",{className:"card mb-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center text-2xl font-bold text-background",children:e.display_name?.charAt(0).toUpperCase()||"U"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:e.display_name||"Anonymous User"}),(0,r.jsxs)("p",{className:"text-foreground-muted text-sm font-mono",children:[e.wallet_address?.slice(0,10),"..."]})]})]}),e.bio&&(0,r.jsx)("p",{className:"text-foreground-muted",children:e.bio})]}),(0,r.jsx)("button",{onClick:()=>d(!n),className:"btn-secondary",children:n?"Cancel":"Edit Profile"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6 pt-6 border-t border-surface-light",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:b}),(0,r.jsx)("p",{className:"text-foreground-muted text-sm",children:"Badges Earned"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:g}),(0,r.jsx)("p",{className:"text-foreground-muted text-sm",children:"Reputation Score"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.attendances?.filter(e=>e.transaction_signature).length||0}),(0,r.jsx)("p",{className:"text-foreground-muted text-sm",children:"Minted Badges"})]})]}),n&&(0,r.jsxs)("div",{className:"space-y-4 pt-6 border-t border-surface-light",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Display Name"}),(0,r.jsx)("input",{type:"text",className:"input-field",value:o,onChange:e=>c(e.target.value),placeholder:"Your display name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),(0,r.jsx)("textarea",{className:"input-field",value:x,onChange:e=>u(e.target.value),placeholder:"Tell us about yourself",rows:3})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"Cancel"}),(0,r.jsx)("button",{onClick:f,disabled:m,className:"btn-primary flex-1",children:m?"Saving...":"Save Changes"})]})]})]})}function o({profile:e}){let t=e.attendances?.length||0,s=e.attendances?.filter(e=>e.transaction_signature).length||0,a=e.reputation_score||0,n=Math.floor(a/100)+1,i=100*n,l=a%100/100*100;return(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground-muted mb-4",children:"Reputation Level"}),(0,r.jsxs)("div",{className:"flex items-end gap-4",children:[(0,r.jsx)("div",{className:"text-5xl font-bold text-primary",children:n}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-2xl font-bold mb-2",children:a}),(0,r.jsx)("div",{className:"w-full bg-surface-light rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-foreground-muted mt-2",children:[i-a," points to level ",n+1]})]})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground-muted mb-4",children:"Activity"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-foreground-muted",children:"Events Attended"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-primary",children:t})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-foreground-muted",children:"Badges Minted"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-primary",children:s})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-foreground-muted",children:"Mint Rate"}),(0,r.jsxs)("span",{className:"text-2xl font-bold text-primary",children:[t>0?Math.round(s/t*100):0,"%"]})]})]})]})]})}function c({profile:e}){let t=[{id:"first-event",name:"First Step",description:"Attend your first event",icon:"\uD83C\uDFAB",unlocked:(e.attendances?.length||0)>=1,unlockedAt:e.attendances?.[0]?.checked_in_at},{id:"five-events",name:"Event Enthusiast",description:"Attend 5 events",icon:"\uD83C\uDFAF",unlocked:(e.attendances?.length||0)>=5},{id:"ten-events",name:"Event Master",description:"Attend 10 events",icon:"\uD83C\uDFC6",unlocked:(e.attendances?.length||0)>=10},{id:"five-minted",name:"NFT Collector",description:"Mint 5 badges",icon:"\uD83D\uDC8E",unlocked:(e.attendances?.filter(e=>e.transaction_signature).length||0)>=5},{id:"reputation-100",name:"Rising Star",description:"Reach 100 reputation",icon:"⭐",unlocked:(e.reputation_score||0)>=100},{id:"reputation-500",name:"Legend",description:"Reach 500 reputation",icon:"\uD83D\uDC51",unlocked:(e.reputation_score||0)>=500}],s=t.filter(e=>e.unlocked).length;return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Achievements"}),(0,r.jsxs)("p",{className:"text-foreground-muted",children:[s," of ",t.length," unlocked"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(e=>(0,r.jsxs)("div",{className:`p-4 rounded-lg border-2 transition-all ${e.unlocked?"bg-surface-light border-primary":"bg-surface border-surface-light opacity-50"}`,children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:e.icon}),(0,r.jsx)("h3",{className:"font-semibold text-sm mb-1",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-foreground-muted",children:e.description}),e.unlocked&&e.unlockedAt&&(0,r.jsxs)("p",{className:"text-xs text-primary mt-2",children:["Unlocked ",new Date(e.unlockedAt).toLocaleDateString()]})]},e.id))})]})}function x({badge:e,onMinted:t}){let[s,n]=(0,a.useState)(!1),{toast:d}=(0,l.dj)(),o=async()=>{n(!0);try{await i.nR.mintBadge({attendanceId:e.id,eventId:e.event_id}),d({title:"Success",description:"Badge minted successfully!"}),t?.()}catch(e){d({title:"Error",description:e.response?.data?.error||"Failed to mint badge",variant:"destructive"})}finally{n(!1)}},c=!!e.transaction_signature,x=e.events?.event_name||"Event Badge",u=new Date(e.checked_in_at).toLocaleDateString(),m=e.events?.nft_image_url||"/nft-badge.jpg";return(0,r.jsxs)("div",{className:"card overflow-hidden hover:border-primary transition-all duration-200 flex flex-col",children:[(0,r.jsxs)("div",{className:"relative w-full h-48 bg-surface-light overflow-hidden rounded-lg mb-4",children:[(0,r.jsx)("img",{src:m||"/placeholder.svg",alt:x,className:"w-full h-full object-cover"}),c&&(0,r.jsx)("div",{className:"absolute top-2 right-2 bg-primary text-background px-3 py-1 rounded-full text-xs font-semibold",children:"Minted"})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-1 text-balance",children:x}),(0,r.jsx)("p",{className:"text-foreground-muted text-sm mb-4",children:u}),(0,r.jsxs)("div",{className:"space-y-2 text-sm mb-4 flex-1",children:[e.events?.description&&(0,r.jsx)("p",{className:"text-foreground-muted line-clamp-2",children:e.events.description}),c&&(0,r.jsxs)("div",{className:"bg-surface-light rounded p-2 font-mono text-xs text-foreground-muted break-all",children:[e.transaction_signature.slice(0,20),"..."]})]}),!c&&(0,r.jsx)("button",{onClick:o,disabled:s,className:"btn-primary w-full text-sm py-2",children:s?"Minting...":"Mint Badge"}),c&&(0,r.jsx)("button",{disabled:!0,className:"w-full px-4 py-2 bg-surface-light text-foreground-muted rounded-lg text-sm font-medium cursor-not-allowed",children:"Badge Minted"})]})]})}function u({badges:e,onBadgeMinted:t}){let[s,n]=(0,a.useState)(0),i=e.filter(e=>!!e.transaction_signature),l=e.filter(e=>!e.transaction_signature),d=()=>{n(e=>e+1),t?.()};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Event Badges"}),(0,r.jsxs)("p",{className:"text-foreground-muted",children:[e.length," badge",1!==e.length?"s":""," earned",i.length>0&&` • ${i.length} minted`]})]}),0===e.length?(0,r.jsxs)("div",{className:"card text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-3",children:"\uD83C\uDFAB"}),(0,r.jsx)("p",{className:"text-foreground-muted",children:"No badges yet. Attend events to earn badges!"})]}):(0,r.jsxs)(r.Fragment,{children:[l.length>0&&(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-foreground-muted",children:"Ready to Mint"}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,r.jsx)(x,{badge:e,onMinted:d},`${e.id}-${s}`))})]}),i.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-foreground-muted",children:"Minted Badges"}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,r.jsx)(x,{badge:e},`${e.id}-${s}`))})]})]})]})}function m({profile:e,onClose:t,onSave:s}){let[n,i]=(0,a.useState)({displayName:e.display_name||"",bio:e.bio||"",showOnLeaderboard:!1!==e.show_on_leaderboard,emailNotifications:!1!==e.email_notifications}),[d,o]=(0,a.useState)(!1),{toast:c}=(0,l.dj)(),x=async()=>{o(!0);try{c({title:"Success",description:"Settings saved successfully"}),s()}catch(e){c({title:"Error",description:"Failed to save settings",variant:"destructive"})}finally{o(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-surface rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Profile Settings"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Display Name"}),(0,r.jsx)("input",{type:"text",className:"input-field",value:n.displayName,onChange:e=>i({...n,displayName:e.target.value}),placeholder:"Your display name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),(0,r.jsx)("textarea",{className:"input-field",value:n.bio,onChange:e=>i({...n,bio:e.target.value}),placeholder:"Tell us about yourself",rows:3})]}),(0,r.jsxs)("div",{className:"space-y-3 pt-4 border-t border-surface-light",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Privacy & Notifications"}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:n.showOnLeaderboard,onChange:e=>i({...n,showOnLeaderboard:e.target.checked}),className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Show on leaderboard"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:n.emailNotifications,onChange:e=>i({...n,emailNotifications:e.target.checked}),className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Email notifications"})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-surface-light",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Connected Wallet"}),(0,r.jsx)("p",{className:"text-sm font-mono text-foreground-muted break-all",children:e.wallet_address})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-surface-light mt-6",children:[(0,r.jsx)("button",{onClick:t,className:"btn-secondary flex-1",children:"Cancel"}),(0,r.jsx)("button",{onClick:x,disabled:d,className:"btn-primary flex-1",children:d?"Saving...":"Save"})]})]})})}function p(){let{connected:e,publicKey:t}=(0,n.X)(),[s,x]=(0,a.useState)(null),[p,h]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),{toast:b}=(0,l.dj)(),v=async()=>{h(!0);try{let e=await i._F.get(t);x(e.data)}catch(e){b({title:"Error",description:"Failed to load profile",variant:"destructive"})}finally{h(!1)}};return e?p?(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12 text-center",children:(0,r.jsx)("p",{className:"text-foreground-muted",children:"Loading profile..."})}):(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(d,{profile:s,onEdit:()=>{},onProfileUpdated:v})}),(0,r.jsx)("button",{onClick:()=>g(!0),className:"btn-secondary ml-4",children:"Settings"})]}),(0,r.jsx)(o,{profile:s}),(0,r.jsx)(c,{profile:s}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(u,{badges:s.attendances||[],onBadgeMinted:v})}),f&&(0,r.jsx)(m,{profile:s,onClose:()=>g(!1),onSave:()=>{g(!1),v()}})]})}):(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12 text-center",children:(0,r.jsx)("p",{className:"text-foreground-muted",children:"Please connect your wallet to view your profile"})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12412:e=>{"use strict";e.exports=require("assert")},17199:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rudrabhaskar/Desktop/Github-Desktop/Github_Desktop/SolProof--Proof_of_Presence/proof-of-presence/frontend/app/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rudrabhaskar/Desktop/Github-Desktop/Github_Desktop/SolProof--Proof_of_Presence/proof-of-presence/frontend/app/profile/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20541:(e,t,s)=>{Promise.resolve().then(s.bind(s,6129))},21820:e=>{"use strict";e.exports=require("os")},25277:(e,t,s)=>{Promise.resolve().then(s.bind(s,17199))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73136:e=>{"use strict";e.exports=require("node:url")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},89532:(e,t,s)=>{"use strict";s.d(t,{Gh:()=>l,_F:()=>d,mi:()=>o,nR:()=>i});var r=s(41858);let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",n=r.A.create({baseURL:a,headers:{"Content-Type":"application/json"}}),i={create:e=>n.post("/events/create",e),generateQR:e=>n.post("/events/generate-qr",e),mintBadge:e=>n.post("/events/mint-badge",e)},l={verify:e=>n.post("/events/verify-qr",e)},d={get:e=>n.get(`/profile/${e}`),update:e=>n.put("/profile/update",e)},o={get:(e=10)=>n.get("/leaderboard",{params:{limit:e}})}},91645:e=>{"use strict";e.exports=require("net")},94136:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,17199)),"/Users/rudrabhaskar/Desktop/Github-Desktop/Github_Desktop/SolProof--Proof_of_Presence/proof-of-presence/frontend/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/rudrabhaskar/Desktop/Github-Desktop/Github_Desktop/SolProof--Proof_of_Presence/proof-of-presence/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/rudrabhaskar/Desktop/Github-Desktop/Github_Desktop/SolProof--Proof_of_Presence/proof-of-presence/frontend/app/profile/page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[291,858,822],()=>s(94136));module.exports=r})();