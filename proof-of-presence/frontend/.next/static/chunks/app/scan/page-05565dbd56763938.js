(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{1392:(e,t,a)=>{"use strict";a.d(t,{b:()=>i,v:()=>o});var s=a(2115);let n=[],r={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){l("call","select")},connect:()=>Promise.reject(l("call","connect")),disconnect:()=>Promise.reject(l("call","disconnect")),sendTransaction:()=>Promise.reject(l("call","sendTransaction")),signTransaction:()=>Promise.reject(l("call","signTransaction")),signAllTransactions:()=>Promise.reject(l("call","signAllTransactions")),signMessage:()=>Promise.reject(l("call","signMessage")),signIn:()=>Promise.reject(l("call","signIn"))};function l(e,t){let a=Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(a),a}Object.defineProperty(r,"wallets",{get:()=>(l("read","wallets"),n)}),Object.defineProperty(r,"wallet",{get:()=>(l("read","wallet"),null)}),Object.defineProperty(r,"publicKey",{get:()=>(l("read","publicKey"),null)});let i=(0,s.createContext)(r);function o(){return(0,s.useContext)(i)}},2844:(e,t,a)=>{"use strict";a.d(t,{Gh:()=>i,_F:()=>o,mi:()=>c,nR:()=>l});var s=a(3464);let n=a(7358).env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",r=s.A.create({baseURL:n,headers:{"Content-Type":"application/json"}}),l={create:e=>r.post("/events/create",e),generateQR:e=>r.post("/events/generate-qr",e),mintBadge:e=>r.post("/events/mint-badge",e)},i={verify:e=>r.post("/events/verify-qr",e)},o={get:e=>r.get("/profile/".concat(e)),update:e=>r.put("/profile/update",e)},c={get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return r.get("/leaderboard",{params:{limit:e}})}}},3580:(e,t,a)=>{"use strict";a.d(t,{dj:()=>p});var s=a(2115);let n=0,r=new Map,l=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=i(c,e),o.forEach(e=>{e(c)})}function u(e){let t=(n=(n+1)%Number.MAX_VALUE).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=s.useState(c);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7335:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),n=a(2115),r=a(7472),l=a(2844),i=a(3580);function o(){let{connected:e,publicKey:t}=(0,r.X)(),[a,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),{toast:m}=(0,i.dj)(),h=async()=>{if(!a||!t){m({title:"Error",description:"Please provide QR data and connect wallet",variant:"destructive"});return}d(!0);try{let e=await l.Gh.verify({qrData:a,attendeeWallet:t});p(e.data),m({title:"Success",description:e.data.message})}catch(t){var e,s;m({title:"Error",description:(null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Failed to verify QR",variant:"destructive"})}finally{d(!1)}};return e?(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Scan Event QR Code"}),(0,s.jsxs)("div",{className:"card space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"QR Code Data"}),(0,s.jsx)("textarea",{className:"input-field",placeholder:"Paste QR code data here",value:a,onChange:e=>o(e.target.value),rows:6})]}),(0,s.jsx)("button",{onClick:h,disabled:c||!a,className:"btn-primary w-full",children:c?"Verifying...":"Verify QR Code"}),u&&(0,s.jsxs)("div",{className:"bg-surface-light rounded-lg p-4 border border-primary",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Verification Result"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-foreground-muted",children:"Event:"})," ",u.eventName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-foreground-muted",children:"Status:"})," ",(0,s.jsx)("span",{className:"text-primary",children:u.valid?"Valid":"Invalid"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-foreground-muted",children:"Ready to Mint:"})," ",(0,s.jsx)("span",{className:"text-primary",children:u.canMint?"Yes":"No"})]})]})]})]})]}):(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12 text-center",children:(0,s.jsx)("p",{className:"text-foreground-muted",children:"Please connect your wallet to scan QR codes"})})}},7472:(e,t,a)=>{"use strict";a.d(t,{X:()=>r});var s=a(1392),n=a(2115);function r(){let{publicKey:e,connected:t,connect:a,disconnect:r,wallet:l}=(0,s.v)(),i=(0,n.useCallback)(async()=>{if(!t&&l)try{await a()}catch(e){console.error("Failed to connect wallet:",e)}},[t,a,l]),o=(0,n.useCallback)(async()=>{if(t)try{await r()}catch(e){console.error("Failed to disconnect wallet:",e)}},[t,r]);return{publicKey:null==e?void 0:e.toString(),connected:t,connectWallet:i,disconnectWallet:o,wallet:l}}},9063:(e,t,a)=>{Promise.resolve().then(a.bind(a,7335))}},e=>{var t=t=>e(e.s=t);e.O(0,[134,464,441,684,358],()=>t(9063)),_N_E=e.O()}]);